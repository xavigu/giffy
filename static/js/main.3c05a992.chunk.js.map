{"version":3,"sources":["services/settings.js","hooks/useUser.js","services/login.js","services/addFav.js","components/SearchForm/SearchForm.module.css","components/Spinner/index.js","components/SearchForm/hook.js","components/SearchForm/index.js","services/getGifs.js","hooks/useGifs.js","context/GifsContext.js","context/UserContext.js","services/getFavs.js","components/Fav/index.js","components/Gif/index.js","components/ListOfGifs/index.js","hooks/useNearScreen.js","components/Header/index.js","pages/Login/index.js","pages/SearchResults/index.js","services/getSingleGif.js","hooks/useSingleGif.js","pages/Detail/index.js","pages/ErrorPage/index.js","App.js","serviceWorker.js","index.js"],"names":["API_KEY","API_URL","useUser","useContext","Context","jwt","favs","setJWT","setFavs","useState","loading","error","state","setState","login","useCallback","username","password","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","json","loginService","window","sessionStorage","setItem","catch","err","removeItem","console","log","addFav","id","addFavService","logout","isLogged","Boolean","isLoginLoading","hasLoginError","module","exports","Spinner","className","ACTIONS","ACTIONS_REDUCERS","action","times","keyword","payload","rating","reducer","actionReducer","type","RATINGS","SearchForm","initialKeyword","initialRating","useLocation","pushLocation","useReducer","decodeURIComponent","dispatch","changeKeyword","changeRating","useForm","onSubmit","evt","preventDefault","css","placeholder","onChange","target","value","disabled","map","key","fromApiResponseToGifs","apiResponse","data","Array","isArray","image","images","title","url","downsized_medium","getGifs","limit","page","apiURL","useGifs","setLoading","loadingNextPage","setLoadingNextPage","setPage","GifsContext","gifs","setGifs","keywordToUse","localStorage","getItem","useEffect","nextGifs","prevGifs","concat","React","createContext","GifsContextProvider","children","Provider","UserContextProvider","getFavs","Fav","some","favId","label","emoji","onClick","navigator","clipboard","writeText","aria-label","role","Gif","to","alt","src","ListOfGifs","useNearScreen","distance","externalRef","once","isNearScreen","setShow","fromRef","useRef","observer","element","current","entries","isIntersecting","disconnect","Promise","resolve","IntersectionObserver","rootMargin","observe","Header","href","e","Login","setUsername","setPassword","navigate","SearchResults","params","length","debounceHandleNextPage","debounce","prevPage","Helmet","name","content","decodeURI","ref","useSingleGif","gifFromCache","find","singleGif","gif","setGif","isLoading","setIsLoading","isError","setIsError","getSingleGif","Detail","gifsErrors","ErrorPage","class","Math","floor","random","HomePage","lazy","App","UserContext","fallback","component","path","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.3c05a992.chunk.js","sourcesContent":["export const API_KEY = 'dIJrma20pSU6ymMwWnDbiaT7NFHeAGVa'\n\nexport const API_URL = 'https://api.giphy.com/v1'","import {useCallback, useContext, useState} from 'react'\r\nimport Context from 'context/UserContext'\r\nimport loginService from 'services/login'\r\nimport addFavService from 'services/addFav'\r\n\r\nexport default function useUser () {\r\n  const {jwt, favs, setJWT, setFavs} = useContext(Context);\r\n  const [state, setState]= useState({loading: false, error: false});\r\n\r\n  const login = useCallback(({username, password}) => {\r\n    setState({loading: true, error: false});\r\n    loginService({username, password})\r\n      .then( jwt => {\r\n        window.sessionStorage.setItem('jwt', jwt);\r\n        setState({loading: false, error: false});\r\n        setJWT(jwt);\r\n      })\r\n      .catch( err => {\r\n        window.sessionStorage.removeItem('jwt');\r\n        console.log(err);\r\n        setState({loading: false, error: true});\r\n      })\r\n  }, [setJWT])\r\n\r\n  const addFav = useCallback(({id}) => {\r\n    addFavService({id, jwt})\r\n      // es igual a escribir .then(favs => setFavs(favs))\r\n      .then(setFavs)\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  const logout = useCallback(() => {\r\n    window.sessionStorage.removeItem('jwt');\r\n    setJWT(null)\r\n  }, [setJWT])\r\n\r\n  return {\r\n    favs,\r\n    addFav,\r\n    isLogged: Boolean(jwt),\r\n    isLoginLoading: state.loading,\r\n    hasLoginError: state.error,\r\n    login,\r\n    logout\r\n  }\r\n}","const ENDPOINT = 'http://localhost:8000'\r\n\r\nexport default function login ({ username, password }) {\r\n  return fetch(`${ENDPOINT}/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({username, password})\r\n  })\r\n    .then(res => {\r\n      if (!res.ok) throw new Error('Response is not OK');\r\n      return res.json();\r\n    }).then(res => {\r\n      const { jwt } = res;\r\n      return jwt;\r\n    })\r\n}","const ENDPOINT = 'http://localhost:8000'\r\n\r\nexport default function addFav ({ id, jwt }) {\r\n  return fetch(`${ENDPOINT}/favs/${id}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({jwt})\r\n  })\r\n    .then(res => {\r\n      if (!res.ok) throw new Error('Response is not OK');\r\n      return res.json();\r\n    }).then(res => {\r\n      const { favs } = res;\r\n      return favs;\r\n    })\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"c-search\":\"SearchForm_c-search__hCCHg\",\"c-search-btn\":\"SearchForm_c-search-btn__3re_k\",\"c-search-list\":\"SearchForm_c-search-list__bmjO8\",\"c-search-input\":\"SearchForm_c-search-input__2yiWd\"};","import React from 'react'\nimport './styles.css'\n\nexport default function Spinner () {\n  return <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n}","import { useReducer } from \"react\";\n\nconst ACTIONS = {\n  CHANGE_KEYWORD: \"change_keyword\",\n  CHANGE_RATING: \"change_rating\",\n};\n\nconst ACTIONS_REDUCERS = {\n  [ACTIONS.CHANGE_KEYWORD]: (state, action) => ({\n    ...state,\n    times: state.times + 1,\n    keyword: action.payload,\n  }),\n  [ACTIONS.CHANGE_RATING]: (state, action) => ({\n    ...state,\n    rating: action.payload,\n  }),\n};\n\nconst reducer = (state, action) => {\n  const actionReducer = ACTIONS_REDUCERS[action.type];\n  return actionReducer ? actionReducer(state, action) : state;\n};\n\nexport default function useForm({\n  initialKeyword = \"\",\n  initialRating = \"g\",\n} = {}) {\n  const [{ keyword, rating }, dispatch] = useReducer(reducer, {\n    keyword: decodeURIComponent(initialKeyword),\n    rating: initialRating\n  });\n\n  return {\n    changeKeyword: ({ keyword }) =>\n      dispatch({ type: ACTIONS.CHANGE_KEYWORD, payload: keyword }),\n    changeRating: ({ rating }) =>\n      dispatch({ type: ACTIONS.CHANGE_RATING, payload: rating }),\n    keyword,\n    rating\n  };\n}\n","import React from \"react\"\nimport { useLocation } from \"wouter\"\nimport useForm from './hook'\nimport css from \"./SearchForm.module.css\"\n\nconst RATINGS = [\"g\", \"pg\", \"pg-13\", \"r\"]\n\nexport default function SearchForm({\n  initialKeyword = '',\n  initialRating = RATINGS[0]\n}) {\n  const [_, pushLocation] = useLocation()\n\n  const {keyword, rating, changeKeyword, changeRating} = useForm({ initialKeyword, initialRating })\n\n  const onSubmit = ({ keyword }) => {\n    if (keyword !== '') {\n      // navegar a otra ruta\n      pushLocation(`/search/${keyword}/${rating}`)\n    }\n  }\n\n  const handleChange = (evt) => {\n    changeKeyword({ keyword: evt.target.value })\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault()\n    onSubmit({ keyword })\n  }\n\n  const handleChangeRating = (evt) => {\n    changeRating({ rating: evt.target.value })\n  }\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={css[\"c-search\"]}>\n        <button className={css[\"c-search-btn\"]}>Buscar</button>\n        <input\n          className={css[\"c-search-input\"]}\n          placeholder=\"Search a gif here...\"\n          onChange={handleChange}\n          type=\"text\"\n          value={keyword}\n        />\n        <select className={css[\"c-search-list\"]} value={rating} onChange={handleChangeRating}>\n          <option disabled>\n            Rating:\n          </option>\n          {RATINGS.map((rating) => (\n            <option key={rating}>{rating}</option>\n          ))}\n        </select>\n      </form>\n    </>\n  )\n}\n","import {API_KEY, API_URL} from './settings'\n\nconst fromApiResponseToGifs = apiResponse => {\n  const {data = []} = apiResponse\n  if (Array.isArray(data)) {\n    const gifs = data.map(image => {\n      const {images, title, id} = image\n      const { url } = images.downsized_medium\n      return { title, id, url }\n    })\n    return gifs\n  }\n  return []\n}\n\nexport default function getGifs({\n  limit = 15,\n  rating = \"g\",\n  keyword = \"morty\",\n  page = 0,\n} = {}) {\n  const apiURL = `${API_URL}/gifs/search?api_key=${API_KEY}&q=${keyword}&limit=${limit}&offset=${\n    page * limit\n  }&rating=${rating}&lang=en`\n\n  return fetch(apiURL)\n    .then((res) => res.json())\n    .then(fromApiResponseToGifs)\n}","import {useContext, useEffect, useState} from 'react'\nimport getGifs from '../services/getGifs'\nimport GifsContext from '../context/GifsContext'\n\nconst INITIAL_PAGE = 0\n\nexport function useGifs ({ keyword, rating } = { keyword: null }) {\n  const [loading, setLoading] = useState(false)\n  const [loadingNextPage, setLoadingNextPage] = useState(false)\n\n  const [page, setPage] = useState(INITIAL_PAGE)\n  const {gifs, setGifs} = useContext(GifsContext)\n\n  // recuperamos la keyword del localStorage\n  const keywordToUse = keyword || localStorage.getItem('lastKeyword') || 'random'\n\n  useEffect(function () {\n    setLoading(true)\n\n    getGifs({ keyword: keywordToUse, rating })\n      .then(gifs => {\n        setGifs(gifs)\n        setLoading(false)\n        // guardamos la keyword en el localStorage\n        localStorage.setItem('lastKeyword', keyword)\n      })\n  }, [keyword, keywordToUse, rating, setGifs])\n\n  useEffect(function () {\n    if (page === INITIAL_PAGE) return\n\n    setLoadingNextPage(true)\n\n    getGifs({ keyword: keywordToUse, page, rating })\n      .then(nextGifs => {\n        setGifs(prevGifs => prevGifs.concat(nextGifs))\n        setLoadingNextPage(false)\n      })\n  }, [keywordToUse, page, rating, setGifs])\n\n  return {loading, loadingNextPage, gifs, setPage}\n}","import React, {useState} from 'react'\n\nconst Context = React.createContext({})\n\nexport function GifsContextProvider ({children}) {\n  const [gifs, setGifs] = useState([])\n\n  return <Context.Provider value={{gifs, setGifs}}>\n    {children}\n  </Context.Provider>\n}\n\nexport default Context","import React, {useState, useEffect} from 'react';\r\nimport getFavs from 'services/getFavs';\r\n\r\nconst Context = React.createContext({})\r\n\r\nexport function UserContextProvider ({children}) {\r\n  // add the return of an arrow function like the initial state\r\n  const [jwt, setJWT] = useState(() => window.sessionStorage.getItem('jwt'));\r\n  const [favs, setFavs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!jwt)  return setFavs([]);\r\n    getFavs({jwt}).then(setFavs);\r\n\r\n  }, [jwt])\r\n\r\n  return <Context.Provider value={{jwt, favs, setJWT, setFavs}}>\r\n    {children}\r\n  </Context.Provider>\r\n}\r\n\r\nexport default Context","const ENDPOINT = 'http://localhost:8000'\r\n\r\nexport default function getFavs ({ jwt }) {\r\n  return fetch(`${ENDPOINT}/favs`, {\r\n    method: 'GET',\r\n    headers: {\r\n      \"Authorization\": jwt,\r\n      \"Content-Type\": \"application/json\"\r\n    }\r\n  })\r\n    .then(res => {\r\n      if (!res.ok) throw new Error('Response is not OK');\r\n      return res.json();\r\n    }).then(res => {\r\n      const { favs } = res;\r\n      return favs;\r\n    })\r\n}","import React from 'react'\r\nimport useUser from 'hooks/useUser'\r\nimport {useLocation} from 'wouter'\r\nimport './Fav.css'\r\n\r\nexport default function Fav({ id, url }) {\r\n  const { isLogged, favs, addFav } = useUser();\r\n  const [, navigate] = useLocation();\r\n  const isFaved = favs.some(favId => favId === id);\r\n\r\n  const handleClick = () => {\r\n    // if (!isLogged) return navigate('/login');\r\n    console.log(id);\r\n    addFav({id});\r\n  }\r\n\r\n  const handleClipboard = () => {\r\n    navigator.clipboard.writeText(url);\r\n  }\r\n\r\n  const [label, emoji] = isFaved ? ['Remove Gif favorites', '‚ùå'] : ['Add Gif favorites', '‚ù§Ô∏è']\r\n\r\n  return (\r\n    <>\r\n      <button className='fav-button' onClick={handleClipboard}>\r\n        <span aria-label='Copy to clipboard' role='img'>üîó</span>\r\n      </button>\r\n\r\n      <button className='fav-button' onClick={handleClick}>\r\n        <span aria-label={label} role='img'>{emoji}</span>\r\n      </button>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\nimport {Link} from 'wouter'\nimport Fav from 'components/Fav'\nimport './Gif.css'\n\n// eslint-disable-next-line react/prop-types\nexport default function Gif ({ title, id, url }) {\n  return (\n    <div className=\"Gif\">\n      <div className=\"Gif-buttons\">\n        <Fav id={id} url={url}></Fav>\n      </div>\n      <Link to={`/gif/${id}`} className='Gif-link'>\n        <h4>{title}</h4>\n        <img loading='lazy' alt={title} src={url} />\n      </Link>\n    </div>\n\n  )\n}","import React from 'react'\nimport Gif from '../Gif'\nimport './ListOfGifs.css'\n\nexport default function ListOfGifs ({gifs}) {\n  return <div className='ListOfGifs'>\n    {\n      gifs.map(({id, title, url}) =>\n        <Gif\n          id={id}\n          key={id}\n          title={title}\n          url={url}\n        />\n      )\n    }\n  </div>\n}","import {useEffect, useState, useRef} from 'react'\n\nexport default function useNearScreen ({ distance = '100px', externalRef, once = true } = {}) {\n  const [isNearScreen, setShow] = useState(false)\n  const fromRef = useRef()\n\n  useEffect(() => {\n    let observer\n\n    const element = externalRef ? externalRef.current : fromRef.current\n\n    const onChange = (entries, observer) => {\n      const el = entries[0]\n      if (el.isIntersecting) {\n        setShow(true)\n        once && observer.disconnect()\n      } else {\n        !once && setShow(false)\n      }\n    }\n\n    Promise.resolve(\n      typeof IntersectionObserver !== 'undefined'\n        ? IntersectionObserver\n        : import('intersection-observer')\n    ).then(() => {\n      observer = new IntersectionObserver(onChange, {\n        rootMargin: distance\n      })\n  \n      if (element) observer.observe(element)\n    })\n\n    return () => observer && observer.disconnect()\n  })\n\n  return {isNearScreen, fromRef}\n}","import React from 'react'\r\nimport {Link} from 'wouter'\r\nimport useUser from 'hooks/useUser'\r\nimport './index.css'\r\n\r\nexport default function Header() {\r\n  // const isLogged = false;\r\n  const {isLogged, logout} = useUser();\r\n\r\n  const handleClick = e => {\r\n    e.preventDefault();\r\n    logout();\r\n  }\r\n\r\n  return (\r\n    <header className='gf-header'>\r\n      {\r\n        isLogged\r\n        ?\r\n        <Link href='#' onClick={handleClick}>\r\n          Logout\r\n        </Link>\r\n          :\r\n        <Link to='/login'>\r\n          Login\r\n        </Link>\r\n      }\r\n    </header>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {useLocation} from 'wouter';\r\nimport useUser from 'hooks/useUser';\r\n\r\nexport default function Login() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [, navigate] = useLocation();\r\n  const {isLoginLoading, hasLoginError, login, isLogged} = useUser();\r\n\r\n  useEffect(() => {\r\n    if (isLogged) navigate('/')\r\n  }, [isLogged, navigate])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    login({username, password});\r\n    // console.table([['username', username], ['password', password]]);\r\n    // navigate('/');\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n    <h2>\r\n      Login\r\n    </h2>\r\n      {isLoginLoading && \r\n        <strong>Checking credentials...</strong>\r\n      }\r\n      {!isLoginLoading &&\r\n        <form onSubmit={handleSubmit}>\r\n          <input placeholder='username' onChange={e => setUsername(e.target.value)} value={username} />\r\n          <input type='password' placeholder='password' onChange={e => setPassword(e.target.value)} value={password} />\r\n          <button>Login</button>\r\n        </form>\r\n      }\r\n      {hasLoginError && \r\n        <strong>Credentials Invalid</strong>\r\n      } \r\n     </>      \r\n  )\r\n}\r\n","import React, {useCallback, useRef, useEffect} from 'react'\nimport Spinner from 'components/Spinner'\nimport ListOfGifs from 'components/ListOfGifs'\nimport SearchForm from 'components/SearchForm'\n\nimport {useGifs} from 'hooks/useGifs'\nimport useNearScreen from 'hooks/useNearScreen'\n\nimport debounce from 'just-debounce-it'\nimport {Helmet} from 'react-helmet'\n\nexport default function SearchResults ({ params }) {\n  const { keyword, rating } = params\n  const { loading, gifs, setPage } = useGifs({ keyword, rating })\n  \n  const externalRef = useRef()\n  const {isNearScreen} = useNearScreen({\n    externalRef: loading ? null : externalRef,\n    once: false\n  })\n\n  const title = gifs ? `${gifs.length} resultados de ${keyword}` : ''\n\n  const debounceHandleNextPage = useCallback(debounce(\n    () => setPage(prevPage => prevPage + 1), 200\n  ), [setPage])\n\n  useEffect(function () {\n    if (isNearScreen) debounceHandleNextPage()\n  }, [debounceHandleNextPage, isNearScreen])\n\n  return <>\n    {loading\n      ? <Spinner />\n      : <>\n        <Helmet>\n          <title>{title}</title>\n          <meta name=\"description\" content={title} />\n          <meta name=\"rating\" content=\"General\" />\n        </Helmet>\n        <header className=\"o-header\">\n          <SearchForm initialKeyword={keyword} initialRating={rating} />\n        </header>\n        <div className=\"App-wrapper\">\n          <h3 className=\"App-title\">\n            {decodeURI(keyword)}\n          </h3>\n          <ListOfGifs gifs={gifs} />\n          <div id=\"visor\" ref={externalRef}></div>\n        </div>\n      </>\n    }\n  </>\n}","import {API_KEY, API_URL} from './settings'\n\nconst fromApiResponseToGifs = apiResponse => {\n  const {data} = apiResponse\n  const {images, title, id} = data\n  const { url } = images.downsized_medium\n  return { title, id, url }\n}\n\nexport default function getSingleGif ({ id }) {\n  return fetch(`${API_URL}/gifs/${id}?api_key=${API_KEY}`)\n    .then(res => res.json())\n    .then(fromApiResponseToGifs)\n}","import {useState, useEffect} from 'react'\nimport {useGifs} from 'hooks/useGifs'\nimport getSingleGif from 'services/getSingleGif'\n\nexport default function useSingleGif ({ id }) {\n  const {gifs} = useGifs()\n  const gifFromCache = gifs.find(singleGif => singleGif.id === id)\n\n  const [gif, setGif] = useState(gifFromCache)\n  const [isLoading, setIsLoading] = useState(false)\n  const [isError, setIsError] = useState(false)\n\n  useEffect(function () {\n    if (!gif) {\n      setIsLoading(true)\n      // llamar al servicio si no tenemos gif\n      getSingleGif({ id })\n        .then(gif => {\n          setGif(gif)\n          setIsLoading(false)\n          setIsError(false)\n        }).catch(err => {\n          setIsLoading(false)\n          setIsError(true)\n        })\n    }\n  }, [gif, id])\n\n  return {gif, isLoading, isError}\n}","import React from 'react'\nimport {Redirect} from 'wouter'\nimport Gif from 'components/Gif'\nimport useSingleGif from 'hooks/useSingleGif'\nimport Spinner from 'components/Spinner'\nimport {Helmet} from 'react-helmet'\n\nexport default function Detail ({ params }) {\n  const {gif, isLoading, isError} = useSingleGif({id: params.id})\n  const title = gif ? gif.title : ''\n\n  if (isLoading) {\n    return (\n      <>\n        <Helmet>\n          <title>Cargando...</title>\n        </Helmet>\n        <Spinner />\n      </>\n    )\n  }\n\n  if (isError) return <Redirect to='/404' />\n  if (!gif) return null\n\n  return <>\n      <Helmet>\n        <title>{title} || Giffy</title>\n      </Helmet>\n      <h3 className=\"App-title\">{gif.title}</h3>\n      <Gif {...gif} />\n    </>\n}","import React from \"react\";\nimport SearchForm from \"components/SearchForm\";\nimport { Helmet } from \"react-helmet\";\nimport { Link } from \"wouter\";\n\nconst gifsErrors = ['d2jjuAZzDSVLZ5kI', 'Bp3dFfoqpCKFyXuSzP', 'hv5AEBpH3ZyNoRnABG', 'hLwSzlKN8Fi6I'];\n\nexport default function ErrorPage() {\n  const randomImage = () => {\n    return `https://media.giphy.com/media/${gifsErrors[Math.floor(Math.random() * gifsErrors.length) + 1 ]}/giphy.gif`\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Error 404 | Giffy</title>\n      </Helmet>\n      <header className=\"o-header\">\n        <SearchForm />\n      </header>\n      <div className=\"App-wrapper\">\n        <div className=\"App-main page-error\">\n            <span class=\"code-error\">404</span>\n            <span class=\"msg-error\">Sometimes gettings lost isn't that bad</span>\n            <img class=\"gif-error\" src={randomImage()} alt=\"alt-page-404\"/>\n            <Link href='/' class=\"btn\">Go to home</Link>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, {Suspense} from 'react';\nimport { Link, Route, Switch } from \"wouter\"\n\nimport Header from 'components/Header'\nimport Login from 'pages/Login'\nimport SearchResults from 'pages/SearchResults'\nimport Detail from 'pages/Detail'\nimport ErrorPage from 'pages/ErrorPage'\nimport {UserContextProvider} from 'context/UserContext'\nimport {GifsContextProvider} from 'context/GifsContext'\n\nimport './App.css'\n\nconst HomePage = React.lazy(() => import('./pages/Home'))\n\nexport default function App() {\n  return (\n  <UserContextProvider>\n      <div className=\"App\">\n        <Suspense fallback={null}>\n        <section className=\"App-content\">\n          <Header />\n          <Link to=\"/\">\n            <figure className=\"App-logo\">\n              <img alt='Giffy logo' src='/logo.png' />\n            </figure>\n          </Link>\n          <GifsContextProvider>\n            <Switch>\n              <Route\n                component={HomePage}\n                path=\"/\"\n              />\n              <Route\n                component={SearchResults}\n                path=\"/search/:keyword/:rating?\"  />\n              <Route\n                component={Detail}\n                path=\"/gif/:id\"\n              />\n              <Route\n                component={Login}\n                path=\"/login\"\n              />\n              <Route\n                component={ErrorPage}\n                path=\"/:rest*\"\n              />\n            </Switch>\n          </GifsContextProvider>\n        </section>\n        </Suspense>\n      </div>\n    </UserContextProvider>\n  )\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}